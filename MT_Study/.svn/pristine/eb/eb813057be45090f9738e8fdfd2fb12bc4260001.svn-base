package alarms;

import com.example.mt_study.R;

import android.app.Activity;
import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Intent;
import android.os.Bundle;
import android.widget.Toast;


public class DisplayNotification extends Activity {
	@Override
	public void onCreate(Bundle SavedInstanceState) {
		super.onCreate(SavedInstanceState);
		Toast.makeText(getBaseContext(), "WORKKK", Toast.LENGTH_SHORT).show();
		
		
		int notifID = getIntent().getExtras().getInt("NotificationId");
		String name = getIntent().getExtras().getString("assignmentName");
		
		
		Intent i = new Intent(this, com.example.mt_study.Main_screen.class);
		i.putExtra("NotificationId", notifID);
		
		PendingIntent displayAlarm = PendingIntent.getActivity(this, 0, i, 0);
		
		NotificationManager nm = (NotificationManager)
	            getSystemService(NOTIFICATION_SERVICE);
	        Notification notif = new Notification(
	            R.drawable.book, 
	            "Time's up!",
	            System.currentTimeMillis());
	 
	        CharSequence from = name;
	        CharSequence message = "This is your alert, courtesy of the AlarmManager";        
	        notif.setLatestEventInfo(this, from, message, displayAlarm);
	 
	        //---100ms delay, vibrate for 250ms, pause for 100 ms and
	        // then vibrate for 500ms---
	        notif.vibrate = new long[] { 100, 250, 100, 500};        
	        nm.notify(notifID, notif);
	        //---destroy the activity---
	        finish();
	}

}